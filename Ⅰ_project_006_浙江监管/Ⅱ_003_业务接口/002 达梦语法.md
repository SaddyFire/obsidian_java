### 00 达梦语法

```sql
to_char(B.casetime,'yyyy-MM-dd')=to_char(getdate(),'yyyy-MM-dd') -- 日期比较

add_days(cui.CREATETIME,0) = CURDATE()  -- 语法说明: 在 cui.CREATETIME 的基础上 +0天

-- DATEDIFF函数(详见下方)
select datediff(HH,now(),'2022-02-12');  -- now()现在 - '2021-02-12'  经过了__小时

select datediff(MONTH,'2022-02-01',now());  -- '2021-02-01' - now() 经过了__月
```
### 00 mysql语法
```sql
-- 计算字段 前5分钟 到 前30分钟的数据
-- TIMESTAMPDIFF 写法
select *
from app_user
where TIMESTAMPDIFF(minute,created,NOW()) between 5 and 30


```
### 01 日期函数
1. curdate()  -- 获取当前日期
```sql
//获取当前年月日 -- 2022/4/20
select curdate();
```
2. curtie() -- 获取当前时间
```sql
//获取当前精确的纳秒的时间 -- 1900/1/1 11:54:11 +08:00
select curtime();
```
3. now() -- 获取当前日期时间
```sql
//获取当前年月日及其精确到纳秒的时间  -- 2022/4/20 11:54
select now();
```
4. add_days(date,num) -- 在指定日期上增加指定的天数（可以为负数）
```sql
//从course表中获取最近十天录入的成绩详情
select * from course 
where grade_input_date between add_days(now(),-10) and now();
```
5. add_months(date,num) ----在指定日期上增加指定的月数
```sql
//查询六个月后是哪天
select add_months(now(),6);
```
6. dateadd(datepart,num,date) ----在指定日期的指定部分增加指定的数值
```sql
//查询68天后是几月几日 
select dateadd(DD,68,now());
```
7. datediff(datepart,date1,date2)----计算两个日期的指定部分的差值(date2-date1)
```sql
//计算距离大年初一还有多少小时
select datediff(HH,now(),'2021-02-12');
```
8. datepart(datepart,date) ----获取指定日期中指定部分的值
```sql
//获取现在是19点13分多少秒
select datepart(S,now());
```
9. dayofweek(date) ----计算指定日期是一周中的第几天
```sql
//查看今天是一周中的第几天（从周日开始算）
select dayofweek(now());
```
10. dayofyear(date) ----计算指定日期是一年中的第几天
```sql
//查看今天是一年中的第几天
select dayofyear(now());
```


![[Pasted image 20220420115739.png]]