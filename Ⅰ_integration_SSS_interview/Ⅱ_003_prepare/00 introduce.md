**自我介绍**

	面试官好, 我叫王迪, 老家是安徽淮南的, 上家公司是南京丰数汇智科技有限公司,因为家人在杭州浙一工作, 想来杭州发展.  
	之前我们公司主要是针对于南京的一些中小型企业提供服务的一个平台,我们公司主要有大数据部门,有java研发部门,安卓部门,我担任的是java研发部门,我在里面主要负责的一些事情是代码的编写,需求文档的编写,以及前后端的联调对接工作.
	我在这家公司做过6个项目,最近一个项目叫趣读书,这个趣读书是针对南京,滁州,马鞍山地区的一些大学生以及比较喜欢看书的人群, 给他们提供一个交流平台,形势上有点类似华为手机和小米手机里面的花粉俱乐部和小米社区,我们的这些用户同时呢也可以分享自己的生活, 照片, 视频, 帖子等,也可以进行二手书的交易买卖,比如花粉俱乐部里面的生活分享.
	我们技术栈用的是市场比较主流的组件, 像springboot,springcloud, redis,mq啊都有涉及,我个人对这些技术点也比较熟悉, 我们项目分为七个模块, 用户登录模块, 圈子模块, 消息模块, 二手交易模块, 个人信息模块, 后台管理模块, 前台页面展示模块, 我主要做的是个人信息展示模块, 圈子模块,后台管理模块.





##### 项目介绍
我们项目的整个后端架构以SpringBoot + Mybatis作为系统架构, RabbitMQ作中间件, Redis作缓存技术, FastDFS系统做小视频的数据存储,  MongoDB geo实现地理位置的查询, SpringCloud用的是二代Alibaba,GateWay作网关,  Nacos做服务发现注册中心和配置中心, 分布式远程调用时用的Dubbo. 
在这里我们springcloudAlibaba用的2.2.5, dubbo用的是2.7.8, 这两个版本在使用时有时候会造成冲突, 如果数据库重启的情况下会报9000错误.


**简单工厂**
我负责的个人信息展示模块里面展示首页的几个按钮, 不同按钮前端会传不同参数 , 根据参数调用service层接口到库里拿值,去数据库里做不同不同查询和各自的封装, 在这里我是用了做了一个简单工厂, sevice注入工厂, 通过工厂判断参数的不同, 去实例化我这几个业务对象, 然后在这几个对象去执行不同业务的操作. 这么做我就达到了在我service层几大块业务的强耦合. 如果日后有新增或删减的展示需求, 那我就只需要再去定义新的业务对象, 在里面写自己的代码, 主业务里只要多加一个if else即可

**Redis**
*hash*
平台通用功能主要是就是一些动态的展示, 动态评论,好友动态之类, 当中有一个是查询好友动态, 里面有个查询是动态评论点赞数, 这里面因为数据可靠性不是那么重要, 所以我们把这个点赞数同时是存到了redis里面方便读取, 用的hash结构, key存动态id, value存用户id, hashvalue存点赞数, 后续在操作数据库

*set*
在查看别人的信息展示页里有关注业务, 如果双方都关注的话会自动填加好友, 这里也是用了redis中的set , 防止重复, 谁关注谁会按前后方向存用户信息, 然后后续会用**mq**去异步去判断能不能添加好友的业务

*string*
后台管理模块的冻结用户, 在业务中首先去redis中找是否有当前用户的冻结信息, 有抛异常, 没有就根据参数设置冻结时间, 但是redis的失效时间要自己定义方法去计算冻结时间, 这里用的是string



**MQ**
在后台管理模块的行为日志记录里面我用的是行为日志的数据统计.
行为日志记录是在用户一系列操作的时候发布到mq里, 管理后台系统拿到最新消息, 构造日志数据存到数据库里
具体实现是要用户系统发送消息到MQ交换机路由, 然后LogListener绑定队列, 配置交换机信息, 指定routingKey
在这里遇到一个问题, 因为还有一些业务不是我去写的, 有牵扯到代码内部的改动, 这里我是用的aop去手机日志, 做了一个`LogAspect`切面和`@logConfig`注解,所以最后是让同事加注解加我的注解

还有一个功能是后台管理里面有个数据统计, 把活跃量这类的这些数据进行表格展示, 我用的是spring自带的task调度工具,`@Scheduled`注解去做定时查询任务

还有
